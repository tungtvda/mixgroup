;(function(){function setEqualHeight(columns){var tallestcolumn=0;columns.each(function(){currentHeight=$(this).height();if(currentHeight>tallestcolumn){tallestcolumn=currentHeight;}});columns.height(tallestcolumn);}
var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();var app={init:function(){$('a[href^="#"]').bind('click.smoothscroll',function(e){e.preventDefault();var target=this.hash,$target=$(target);$('html, body').stop().animate({'scrollTop':$target.offset().top-0},900,'swing',function(){window.location.hash=target;});});$('#menuToggle, .menu-close').on('click',function(){$('#menuToggle').toggleClass('active');$('body').toggleClass('body-push-toleft');$('#theMenu').toggleClass('menu-open');});$(window).bind("load resize",function(){if($(window).height()<400){$(".menu").css("overflow-y","scroll");}
else{$(".menu").css("overflow-y","hidden");}});$('.fullscreen-image:not(:first)').each(function(){var img=$('<img />'),bgSrc=$(this).css('backgroundImage').match(/[^\(]+\.(gif|jpg|jpeg|png)/g);if(bgSrc&&bgSrc.length){img.attr('src',bgSrc[0]);}});$(document).on('animating.slides',function(a){setTimeout(function(){$('.fittext').fitText(0.78,{minFontSize:'40px',maxFontSize:'100px'});$('.hugetext').fitText(0.5,{minFontSize:'100px',maxFontSize:'180px'});$('.fitticker').fitText(2,{minFontSize:'16px',maxFontSize:'50px'});},100)});$('.fittext').fitText(0.78,{minFontSize:'40px',maxFontSize:'100px'});$('.hugetext').fitText(0.5,{minFontSize:'100px',maxFontSize:'180px'});$('.fitticker').fitText(2,{minFontSize:'16px',maxFontSize:'50px'});$('#slides').superslides({animation:'fade'});$("#services-slider").sudoSlider({customLink:'a.servicesLink',speed:400,responsive:true,prevNext:true,prevHtml:'<a href="#" class="services-arrow-prev"><i class="icon-angle-left"></i></a>',nextHtml:'<a href="#" class="services-arrow-next"><i class="icon-angle-right"></i></a>',useCSS:true,continuous:true,updateBefore:true});$("#quote-slider").sudoSlider({customLink:'a.quoteLink',speed:400,responsive:true,prevNext:true,prevHtml:'<a href="#" class="quote-arrow-prev"><i class="icon-angle-left"></i></a>',nextHtml:'<a href="#" class="quote-arrow-next"><i class="icon-angle-right"></i></a>',useCSS:true,continuous:true,updateBefore:true});$("#contact-slider").sudoSlider({customLink:'a.contactLink',speed:400,responsive:true,prevNext:false,useCSS:false,continuous:false,updateBefore:true});$("#portfolio-slider").sudoSlider({customLink:'a.portfolioLink',speed:400,numeric:true,responsive:true,prevNext:true,prevHtml:'<a href="#" class="portfolio-arrow-prev"><i class="icon-angle-left"></i></a>',nextHtml:'<a href="#" class="portfolio-arrow-next"><i class="icon-angle-right"></i></a>',useCSS:true,continuous:true,updateBefore:true});$('#portfolio-grid').mixitup({onMixStart:function(a){$('#filter-container').addClass('filtered');}});$('.popup').magnificPopup({type:'image',fixedContentPos:false,mainClass:'mfp-with-zoom',zoom:{enabled:true,duration:300,easing:'ease-in-out',opener:function(openerElement){return openerElement.is('img')?openerElement:openerElement.find('img');}}});$('.popup-youtube, .popup-vimeo, .popup-gmaps').magnificPopup({disableOn:700,type:'iframe',mainClass:'mfp-fade',removalDelay:160,preloader:false,fixedContentPos:false});$('#contact').submit(function(e){e.preventDefault();$.ajax({url:'inc/contact.php',data:'name='+ escape($('#contactName').val())+'&email='+ escape($('#contactEmail').val())+'&phone='+ escape($('#contactPhone').val())+'&message='+escape($('#contactMessage').val()),dataType:'json',success:function(resp){$('#contactName, #contactEmail, #contactMessage').removeClass('error');if(resp.success==1){$('#modalContent').text(resp.message);$('#modal, #modalOverlay').fadeIn(500);$('#contactName, #contactEmail, #contactMessage, #contactPhone').val('');}
else{if(resp.errorCode==1){$('#contactName').addClass('error').focus();}
else if(resp.errorCode==2){$('#contactEmail').addClass('error').focus();}
else if(resp.errorCode==3){$('#contactMessage').addClass('error').focus();}}}});return false;});$('#modal').on('click touchstart',function(e){e.stopPropagation();});$('#modalClose, #modalOverlay').on('click touchstart',function(){$('#modal, #modalOverlay').fadeOut(500);});},domReady:function(){},windowLoad:function(){$('#loader').fadeOut();$('a.popup').each(function(){var t=$(this),img=$('<img />');img.attr('src',t.attr('href'));});}};app.init();$(function(){app.domReady();$(window).load(app.windowLoad);});$(window).resize(function(){delay(function(){$('.same-height').css('height','auto');setEqualHeight($('.same-height'));},500);});})(jQuery)